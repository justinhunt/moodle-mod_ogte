{"version":3,"file":"popoverhelper.min.js","sources":["../src/popoverhelper.js"],"sourcesContent":["define(['jquery', 'core/log','core/templates', 'https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js'], \n    function ($, log,templates,fancybox,) {\n    \"use strict\"; // jshint ;_;\n\n    /*\n    This file is to manage the transcript popover\n     */\n\n    log.debug('OGTE Popover helper: initialising');\n\n    var ph = {\n\n        popuptitle: 'Actions: Ignore',//M.util.get_string('popoveractions','mod_ogte','Ignore'), //need to set this up to work in renderer\n        currentword: '',\n\n        init: function () {\n            this.register_events();\n        },\n\n        register_events: function () {\n\n            var that = this;\n            //when the ignore switch is toggled, call doIgnore\n            $(document).on('change','#mod_ogte_actionignoreswitch',function(e) {\n                var word = $(this).attr('data-theword');\n                var ignore = $(this).is(':checked');\n                that.onIgnore(word, ignore);\n            });\n\n        },\n\n        doPopup: function (item,itemword, ignoring) {\n            var that= this;\n        \n\n            //let's add the popover\n            var tdata={};\n            tdata.theword=itemword;\n            tdata.ignoring=false;\n            tdata.ignoring=ignoring;\n            log.debug('OGTE Popover helper: doPopup' + itemword + ' ignoring=' + ignoring);\n            templates.render('mod_ogte/popoveractionform', tdata).done(function(html, js) {\n                new fancybox.Fancybox(\n                    [\n                      {\n                        src: html,\n                        type: \"html\",\n                      },\n                    ],\n                    {\n                      // Your custom options\n                    }\n                  );\n            });\n\n        },\n\n        //this function is overridden by the calling class\n        //word = word, ignore = true/false\n        onIgnore: function(word,ignore){console.log('onIgnore');},\n\n    };//end of thehelper declaration\n    return ph;\n});"],"names":["define","$","log","templates","fancybox","debug","popuptitle","currentword","init","register_events","that","this","document","on","e","word","attr","ignore","is","onIgnore","doPopup","item","itemword","ignoring","tdata","theword","render","done","html","js","Fancybox","src","type","console"],"mappings":"AAAAA,gCAAO,CAAC,SAAU,WAAW,iBAAkB,iFAC3C,SAAUC,EAAGC,IAAIC,UAAUC,iBAO3BF,IAAIG,MAAM,qCAED,CAELC,WAAY,kBACZC,YAAa,GAEbC,KAAM,gBACGC,mBAGTA,gBAAiB,eAETC,KAAOC,KAEXV,EAAEW,UAAUC,GAAG,SAAS,gCAA+B,SAASC,OACxDC,KAAOd,EAAEU,MAAMK,KAAK,gBACpBC,OAAShB,EAAEU,MAAMO,GAAG,YACxBR,KAAKS,SAASJ,KAAME,YAK5BG,QAAS,SAAUC,KAAKC,SAAUC,cAK1BC,MAAM,GACVA,MAAMC,QAAQH,SACdE,MAAMD,UAAS,EACfC,MAAMD,SAASA,SACfrB,IAAIG,MAAM,+BAAiCiB,SAAW,aAAeC,UACrEpB,UAAUuB,OAAO,6BAA8BF,OAAOG,MAAK,SAASC,KAAMC,QAClEzB,SAAS0B,SACT,CACE,CACEC,IAAKH,KACLI,KAAM,SAGV,QAUZb,SAAU,SAASJ,KAAKE,QAAQgB,QAAQ/B,IAAI"}